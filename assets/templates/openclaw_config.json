{
  "repo_url": "https://github.com/<owner>/<repo>.git",
  "project_name": "",
  "task_requirement": "目标模块：cortexnet/model.py、cortexnet/blocks.py、cortexnet/ops/、tests/；任务要求：执行实质性代码升级与优化（性能/稳定性/可维护性），至少改动3个非文档代码文件且非文档改动行数≥80，禁止仅文档/注释/格式化改动；必须先完成/init（或等效初始化）再实施改动；验收标准：pytest全量通过、核心用例可运行、至少1项可量化指标提升（如关键路径耗时下降≥10%或内存占用下降≥10%），并在报告中给出改动清单、基准对比、风险与回滚点；若未达标则继续重做，直到达标或达到切换条件。",
  "caller_name": "自动化编排器",
  "init_slash_command": "/init",
  "branch": "dev",
  "working_root": "./runtime",
  "loop_interval_seconds": 3600,
  "report_min_pass_rate": 90,
  "require_code_changes": false,
  "require_non_doc_code_changes": false,
  "minimum_non_doc_files_changed": 0,
  "minimum_non_doc_lines_changed": 0,
  "max_audit_failures_per_cli": 2,
  "log_dir": "./logs",
  "report_path": ".openclaw/optimization_report.json",
  "prompt_path": ".openclaw/openclaw_task_prompt.md",
  "preserve_untracked_paths": [
    ".codex/",
    ".gemini/",
    ".claude/",
    ".open-code/"
  ],
  "never_commit_paths": [
    ".openclaw/openclaw_task_prompt.md",
    ".openclaw/optimization_report.json",
    ".openclaw/openclaw_init_prompt.md",
    ".openclaw/openclaw_init_remediate_prompt.md",
    ".codex/",
    ".gemini/",
    ".claude/",
    ".open-code/"
  ],
  "commit_message_template": "[迭代升级] {project} 核心优化：{core} | 测试通过率{rate}% | 变更：{changes}",
  "error_keywords": [
    "quota exceeded",
    "authentication failed",
    "permission denied",
    "rate limit",
    "invalid api key",
    "command not found"
  ],
  "timeouts": {
    "idle_seconds": 30,
    "progress_probe_after_seconds": 900,
    "progress_probe_wait_seconds": 300,
    "max_runtime_seconds": 1800
  },
  "init_phase": {
    "enabled": true,
    "force_reinit": false,
    "idle_seconds": 60,
    "max_runtime_seconds": 600
  },
  "progress_probe_message": "进度校验：你是否仍在正常执行？请给出预计剩余时间和当前进度百分比。",
  "auto_confirm_reply": "yes",
  "fallback_report": {
    "enabled": true,
    "run_tests_on_missing_report": true,
    "test_command_candidates": [
      "python -m pytest -q",
      "pytest -q",
      "python -m unittest discover -q",
      "make test"
    ],
    "test_timeout_seconds": 1800
  },
  "cli_tools": [
    {
      "name": "Codex CLI",
      "command": "codex exec -s workspace-write -c approval_policy=never -c model_reasoning_effort=high -C {repo_dir} --skip-git-repo-check - < {prompt_path}",
      "interactive_command": "codex --no-alt-screen -c model_reasoning_effort=high -C {repo_dir} \"$(cat {prompt_path})\"",
      "init_command": "codex exec -s workspace-write -c approval_policy=never -c model_reasoning_effort=high -C {repo_dir} --skip-git-repo-check - < {init_prompt_path}",
      "init_required_paths": [
        ".codex"
      ],
      "send_prompt_via_stdin": false,
      "enabled": true
    },
    {
      "name": "Gemini CLI",
      "command": "gemini -y -o stream-json -p \"$(cat {prompt_path})\"",
      "interactive_command": "gemini",
      "init_command": "gemini -y -o stream-json -p \"$(cat {init_prompt_path})\"",
      "send_prompt_via_stdin": false,
      "enabled": true
    },
    {
      "name": "Open Code CLI",
      "command": "open-code --cwd {repo_dir} --prompt-file {prompt_path}",
      "interactive_command": "open-code --cwd {repo_dir}",
      "init_command": "open-code --cwd {repo_dir} --prompt-file {init_prompt_path}",
      "send_prompt_via_stdin": false,
      "enabled": true
    },
    {
      "name": "Claude Code CLI",
      "command": "claude -p \"$(cat {prompt_path})\"",
      "interactive_command": "claude",
      "init_command": "claude -p \"$(cat {init_prompt_path})\"",
      "send_prompt_via_stdin": false,
      "enabled": true
    }
  ],
  "git_identity": {
    "name": "ai",
    "email": "ai@local"
  }
}
